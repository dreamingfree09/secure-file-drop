# Secure File Drop - Environment Variables Template
# Copy this file to .env and replace all placeholder values with real secrets.
# NEVER commit .env to version control.

# Postgres
POSTGRES_DB=sfd
POSTGRES_USER=sfd
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD

# MinIO
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD

# Backend (Admin auth + session)
SFD_ADMIN_USER=admin
SFD_ADMIN_PASS=CHANGE_ME_GENERATE_SECURE_PASSWORD
SFD_SESSION_SECRET=CHANGE_ME_USE_openssl_rand_hex_32

# Backend (Database)
DATABASE_URL=postgres://sfd:CHANGE_ME_GENERATE_SECURE_PASSWORD@postgres:5432/sfd?sslmode=disable

# MinIO / S3 configuration for backend access
SFD_S3_ENDPOINT=http://minio:9000
SFD_S3_ACCESS_KEY=minioadmin
SFD_S3_SECRET_KEY=CHANGE_ME_GENERATE_SECURE_PASSWORD
SFD_BUCKET=sfd-private

# Upload size limit (bytes, optional)
SFD_MAX_UPLOAD_BYTES=53687091200

# Download link signing secret
SFD_DOWNLOAD_SECRET=CHANGE_ME_USE_openssl_rand_hex_32

# Public base URL (for generating absolute download links)
SFD_PUBLIC_BASE_URL=https://localhost:8443

# SMTP configuration (optional; enables email notifications when provided)
SFD_SMTP_HOST=smtp.gmail.com
SFD_SMTP_PORT=587
SFD_SMTP_USER=your-email@gmail.com
SFD_SMTP_PASS=CHANGE_ME_GENERATE_SECURE_PASSWORD
SFD_SMTP_FROM=noreply@yourdomain.com

# File cleanup job configuration (optional)
SFD_CLEANUP_ENABLED=true        # Enable automated cleanup of old files (default: true)
SFD_CLEANUP_INTERVAL=1h         # How often to run cleanup (default: 1h, format: 1h, 30m, 24h)
SFD_CLEANUP_MAX_AGE=24h         # Delete files older than this in pending/failed states (default: 24h)

# -----------------------------------------------------------------------------
# How to generate secure secrets:
# -----------------------------------------------------------------------------
# openssl rand -hex 32       # for SFD_SESSION_SECRET and SFD_DOWNLOAD_SECRET
# openssl rand -base64 24    # for passwords (SFD_ADMIN_PASS, POSTGRES_PASSWORD, etc.)
